<!DOCTYPE html>
<html>
<head>
    <title>Aula - Java RMI</title>
</head>
<body>

<h1>Introdução ao Java RMI</h1>

<h2>O que é o Java RMI?</h2>

<p>O Java RMI (Remote Method Invocation) é uma tecnologia que permite a comunicação entre processos em máquinas virtuais Java (JVMs) diferentes. Ele permite que objetos Java em uma máquina virtual chamem métodos em objetos Java em uma máquina virtual remota, como se estivessem chamando métodos locais. Essa tecnologia é usada para implementar sistemas distribuídos em Java.</p>

<h2>Como o Java RMI funciona?</h2>

<p>O Java RMI opera sobre o conceito de objetos distribuídos. Esses objetos são instâncias de classes Java que residem em diferentes máquinas virtuais. O RMI fornece um mecanismo para invocar métodos de objetos remotos e passar parâmetros entre eles.</p>

<p>Aqui estão os principais componentes do Java RMI:</p>

<h3>1. Interface Remota (Remote Interface)</h3>

<p>Uma interface remota define os métodos que podem ser chamados remotamente. Ela estende a interface <code>java.rmi.Remote</code>.</p>

<pre><code>
import java.rmi.Remote;
import java.rmi.RemoteException;

public interface MeuServico extends Remote {
    String meuMetodo() throws RemoteException;
}
</code></pre>

<h3>2. Implementação Remota</h3>

<p>Essa é a classe que implementa a interface remota. Ela estende <code>java.rmi.server.UnicastRemoteObject</code> e fornece uma implementação para os métodos definidos na interface remota.</p>

<pre><code>
import java.rmi.RemoteException;
import java.rmi.server.UnicastRemoteObject;

public class MeuServicoImpl extends UnicastRemoteObject implements MeuServico {
    public MeuServicoImpl() throws RemoteException {
        super();
    }

    public String meuMetodo() throws RemoteException {
        return "Olá, mundo!";
    }
}
</code></pre>

<h3>3. Registro RMI (RMI Registry)</h3>

<p>O registro RMI atua como um serviço de diretório para objetos remotos. Ele permite que os clientes encontrem os objetos remotos.</p>

<h3>4. Servidor RMI</h3>

<p>O servidor RMI cria uma instância da implementação remota e a vincula ao registro RMI.</p>

<pre><code>
import java.rmi.registry.LocateRegistry;
import java.rmi.registry.Registry;

public class Servidor {
    public static void main(String[] args) {
        try {
            MeuServico objetoRemoto = new MeuServicoImpl();
            Registry registro = LocateRegistry.createRegistry(1099);
            registro.bind("MeuServico", objetoRemoto);
            System.out.println("Serviço registrado.");
        } catch (Exception e) {
            System.err.println("Erro no servidor: " + e.toString());
            e.printStackTrace();
        }
    }
}
</code></pre>

<h3>5. Cliente RMI</h3>

<p>O cliente RMI se conecta ao registro RMI, procura o objeto remoto e o utiliza como se fosse um objeto local.</p>

<pre><code>
import java.rmi.registry.LocateRegistry;
import java.rmi.registry.Registry;

public class Cliente {
    public static void main(String[] args) {
        try {
            Registry registro = LocateRegistry.getRegistry("localhost", 1099);
            MeuServico objetoRemoto = (MeuServico) registro.lookup("MeuServico");
            String resultado = objetoRemoto.meuMetodo();
            System.out.println(resultado);
        } catch (Exception e) {
            System.err.println("Erro no cliente: " + e.toString());
            e.printStackTrace();
        }
    }
}
</code></pre>

<h2>Conclusão</h2>

<p>O Java RMI é uma poderosa ferramenta para criar sistemas distribuídos em Java. Ele permite que objetos Java em diferentes JVMs se comuniquem de forma transparente. Ao criar interfaces remotas e implementações, juntamente com o registro RMI e o servidor/cliente RMI, é possível criar sistemas distribuídos robustos e escaláveis em Java.</p>

</body>
</html>
